---
title: "wbb"
output: html_document
---

```{r}
library(tidyverse)
```

```{r}
wbb_teams <- read_csv("https://dwillis.github.io/sports-data-files/wbbstats1525.csv")
```

```{r}
wbb_avgs <- wbb_teams |> 
  mutate(
    rpg = TotalRebounds/Games,
    OppPpg = OppPoints/Games,
    Threepg = ThreePointMade/Games,
    ToPg = Turnovers/Games,
    Ppg = ForPoints/Games,
  )
```


```{r}
teamzscore <- wbb_avgs |> 
  mutate(
    OffZscore = as.numeric(scale(Ppg, center = TRUE, scale = TRUE)),
    RebZscore = as.numeric(scale(rpg, center = TRUE, scale = TRUE)),
    OppZscore = as.numeric(scale(OppPpg, center = TRUE, scale = TRUE)) * -1,
    TurnoverZScore = as.numeric(scale(ToPg, center = TRUE, scale = TRUE)) * -1,

    TotalZscore = OffZscore + RebZscore + OppZscore + TurnoverZScore
  )  
```


```{r}
teamzscore <- teamzscore |> 
    arrange(desc(TotalZscore)) |> 
select (School, Season, TotalZscore, OffZscore, RebZscore, OppZscore, TurnoverZScore )
  
```

I accidentally created the Kim Mulkey Z-Score, because her teams half the top ten alongside a couple Geno Auriemma and Dawn Staley entries. No Maryland teams crack the elite ranks of my Z-Score. My elite teams don't seem to have the highest ZScore in any individual category, but they are over one in basically every category, doing all of them at an above average level.

```{r}
umdzscore <- teamzscore |> 
  filter(School == "Maryland") |> 
    arrange(desc(TotalZscore)) |> 
select (School, Season, TotalZscore, OffZscore, RebZscore, OppZscore, TurnoverZScore )
```

My metric has Maryland's best years as 2020, 2016, 2017, and 2021 all where they posted Total Z-Scores over five. Their number one team is 2017, which makes sense because they only lost three games, but choked in the Sweet 16. They've never had a year with a negative ZScore in the last 10, with their worst being the last two, I'm suprised that last year was their second-worst, but their issues turning the ball over as well as some lackluster defensive efforts hurt them. Frese excels in the offensive Z Score category where she's posted two of the highest rated seasons ever.

My best story idea would be who's been the best coach between Mulkey and Auriemma in the last 10 years. Their teams consistently show up as some of the best. For that article I think you could compare who's received the better influx of talent between the two by recruiting class rankings.


## Write-Up

In the last 10 years of women's college basketball national champions there have been two major aberrations: the 2021 Stanford Cardinals led by Tara VanDerveer and the 2017 Notre Dame Fighting Irish led by Muffet McGraw. They represent the only teams not coached by Dawn Staley, Geno Auriemma, or Kim Mulkey to win a national title in that time frame.

Disrupting those three's grip on the upper echelon of women's basketball is exceedingly difficult, the brands they represent is enough to attract elite talent wherever they are. This is evidenced, by Mulkey's success at both Baylor and LSU. So what did these teams do to break through?

The answer isn't as simple as other women's basketball contenders might hope. One thing they had in common though was playing two of the 20 hardest schedules during that time. 

This is not good I ran out of time.


## Step Charts

```{r}
library(tidyverse)
```

```{r}
logs <- read_csv("https://dwillis.github.io/sports-data-files/wbblogs25.csv")
```


```{r}
difflogs <- logs |> 
  mutate(Differential = TeamScore - OpponentScore) |> 
  group_by(TeamFullName) |> 
  mutate(CumDiff = cumsum(Differential))
```


```{r}
bigdiff <- difflogs |> filter(Conference == "Big Ten WBB")
```


```{r}
ggplot() + geom_step(data=bigdiff, aes(x=Date, y=CumDiff, group=Team))
```

```{r}
ggplot() + geom_step(data=bigdiff, aes(x=Date, y=CumDiff, group=Team, color=Team))
```


```{r}
umd <- bigdiff |> filter(Team == "Maryland")
ill <- bigdiff |> filter(Team == "Illinois")
```


```{r}
ggplot() + 
  geom_step(data=bigdiff, aes(x=Date, y=CumDiff, group=Team), color="light grey") +
  geom_step(data=umd, aes(x=Date, y=CumDiff, group=Team), color="red") + 
  geom_step(data=ill, aes(x=Date, y=CumDiff, group=Team), color="orange") +
  annotate("text", x=(as.Date("2024-12-10")), y=300, label="Maryland") +
  annotate("text", x=(as.Date("2025-02-01")), y=175, label="Illinois") +
  labs(
    x="Date", 
    y="Cumulative Point Differential", 
    title="Maryland and Illinois Had Similar Seasons", 
    subtitle="The Terps were middle of the pack in cumulative point differential.", 
    caption="Source: Sports-Reference.com | By Derek Willis") +
  theme_minimal()
```


```{r}
install.packages("ggalt")
library ("ggalt")
```





